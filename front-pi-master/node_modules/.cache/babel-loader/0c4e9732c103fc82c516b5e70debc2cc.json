{"remainingRequest":"d:\\Users\\Leda\\Desktop\\front-pi-master\\node_modules\\babel-loader\\lib\\index.js!d:\\Users\\Leda\\Desktop\\front-pi-master\\node_modules\\eslint-loader\\index.js??ref--13-0!d:\\Users\\Leda\\Desktop\\front-pi-master\\src\\_services\\usuario.service.js","dependencies":[{"path":"d:\\Users\\Leda\\Desktop\\front-pi-master\\src\\_services\\usuario.service.js","mtime":1571172295000},{"path":"d:\\Users\\Leda\\Desktop\\front-pi-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"d:\\Users\\Leda\\Desktop\\front-pi-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"d:\\Users\\Leda\\Desktop\\front-pi-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"d:\\\\Users\\\\Leda\\\\Desktop\\\\front-pi-master\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport { authHeader } from \"../_helpers\";\nimport { userService, config } from '.';\nexport var usuarioService = {\n  register: register,\n  getAll: getAll,\n  update: update,\n  delete: _delete\n};\n\nfunction getAll() {\n  var requestOptions = {\n    method: 'GET',\n    headers: authHeader()\n  };\n  return fetch(\"\".concat(config.apiUrl, \"/Usuario/ObterTodos\"), requestOptions).then(handleResponse);\n}\n\nfunction register(usuario) {\n  var requestOptions = {\n    method: 'POST',\n    headers: _objectSpread({}, authHeader(), {\n      'Content-Type': 'application/json'\n    }),\n    body: JSON.stringify(usuario)\n  };\n  return fetch(\"\".concat(config.apiUrl, \"/Usuario/Inserir\"), requestOptions).then(handleResponse);\n}\n\nfunction update(usuario) {\n  var requestOptions = {\n    method: 'PUT',\n    headers: _objectSpread({}, authHeader(), {\n      'Content-Type': 'application/json'\n    }),\n    body: JSON.stringify(usuario)\n  };\n  return fetch(\"\".concat(config.apiUrl, \"/Usuario/Atualizar/\").concat(usuario.id), requestOptions).then(handleResponse);\n}\n\nfunction _delete(id) {\n  var requestOptions = {\n    method: 'DELETE',\n    headers: authHeader()\n  };\n  return fetch(\"\".concat(config.apiUrl, \"/Usuario/Excluir/\").concat(id), requestOptions).then(handleResponse);\n}\n\nfunction handleResponse(response) {\n  return response.text().then(function (text) {\n    var data = text && JSON.parse(text);\n\n    if (!response.ok) {\n      if (response.status === 401) {\n        userService.logout();\n        location.reload(true);\n      }\n\n      var error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}",{"version":3,"sources":["d:\\Users\\Leda\\Desktop\\front-pi-master\\src\\_services\\usuario.service.js"],"names":["authHeader","userService","config","usuarioService","register","getAll","update","delete","_delete","requestOptions","method","headers","fetch","apiUrl","then","handleResponse","usuario","body","JSON","stringify","id","response","text","data","parse","ok","status","logout","location","reload","error","message","statusText","Promise","reject"],"mappings":";AAAA,SAASA,UAAT;AACA,SAASC,WAAT,EAAsBC,MAAtB,QAAoC,GAApC;AAEA,OAAO,IAAMC,cAAc,GAAG;AAC5BC,EAAAA,QAAQ,EAARA,QAD4B;AAE5BC,EAAAA,MAAM,EAANA,MAF4B;AAG5BC,EAAAA,MAAM,EAANA,MAH4B;AAI5BC,EAAAA,MAAM,EAAEC;AAJoB,CAAvB;;AAOP,SAASH,MAAT,GAAmB;AACjB,MAAMI,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,KADa;AAErBC,IAAAA,OAAO,EAAEX,UAAU;AAFE,GAAvB;AAIA,SAAOY,KAAK,WAAIV,MAAM,CAACW,MAAX,0BAAwCJ,cAAxC,CAAL,CAA6DK,IAA7D,CAAkEC,cAAlE,CAAP;AACD;;AAED,SAASX,QAAT,CAAmBY,OAAnB,EAA4B;AAC1B,MAAMP,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,MADa;AAErBC,IAAAA,OAAO,oBAAOX,UAAU,EAAjB;AAAqB,sBAAgB;AAArC,MAFc;AAGrBiB,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeH,OAAf;AAHe,GAAvB;AAKA,SAAOJ,KAAK,WAAIV,MAAM,CAACW,MAAX,uBAAqCJ,cAArC,CAAL,CAA0DK,IAA1D,CAA+DC,cAA/D,CAAP;AACD;;AAED,SAAST,MAAT,CAAiBU,OAAjB,EAA0B;AACxB,MAAMP,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,KADa;AAErBC,IAAAA,OAAO,oBAAOX,UAAU,EAAjB;AAAqB,sBAAgB;AAArC,MAFc;AAGrBiB,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeH,OAAf;AAHe,GAAvB;AAKA,SAAOJ,KAAK,WAAIV,MAAM,CAACW,MAAX,gCAAuCG,OAAO,CAACI,EAA/C,GAAqDX,cAArD,CAAL,CAA0EK,IAA1E,CAA+EC,cAA/E,CAAP;AACD;;AAED,SAASP,OAAT,CAAkBY,EAAlB,EAAsB;AACpB,MAAMX,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,QADa;AAErBC,IAAAA,OAAO,EAAEX,UAAU;AAFE,GAAvB;AAIA,SAAOY,KAAK,WAAIV,MAAM,CAACW,MAAX,8BAAqCO,EAArC,GAA2CX,cAA3C,CAAL,CAAgEK,IAAhE,CAAqEC,cAArE,CAAP;AACD;;AAED,SAASA,cAAT,CAAyBM,QAAzB,EAAmC;AACjC,SAAOA,QAAQ,CAACC,IAAT,GAAgBR,IAAhB,CAAqB,UAAAQ,IAAI,EAAI;AAClC,QAAMC,IAAI,GAAGD,IAAI,IAAIJ,IAAI,CAACM,KAAL,CAAWF,IAAX,CAArB;;AACA,QAAI,CAACD,QAAQ,CAACI,EAAd,EAAkB;AAChB,UAAIJ,QAAQ,CAACK,MAAT,KAAoB,GAAxB,EAA6B;AAC3BzB,QAAAA,WAAW,CAAC0B,MAAZ;AACAC,QAAAA,QAAQ,CAACC,MAAT,CAAgB,IAAhB;AACD;;AACD,UAAMC,KAAK,GAAIP,IAAI,IAAIA,IAAI,CAACQ,OAAd,IAA0BV,QAAQ,CAACW,UAAjD;AACA,aAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD;;AACD,WAAOP,IAAP;AACD,GAXM,CAAP;AAYD","sourcesContent":["import { authHeader } from '../_helpers'\nimport { userService, config } from '.'\n\nexport const usuarioService = {\n  register,\n  getAll,\n  update,\n  delete: _delete\n}\n\nfunction getAll () {\n  const requestOptions = {\n    method: 'GET',\n    headers: authHeader()\n  }\n  return fetch(`${config.apiUrl}/Usuario/ObterTodos`, requestOptions).then(handleResponse)\n}\n\nfunction register (usuario) {\n  const requestOptions = {\n    method: 'POST',\n    headers: { ...authHeader(), 'Content-Type': 'application/json' },\n    body: JSON.stringify(usuario)\n  }\n  return fetch(`${config.apiUrl}/Usuario/Inserir`, requestOptions).then(handleResponse)\n}\n\nfunction update (usuario) {\n  const requestOptions = {\n    method: 'PUT',\n    headers: { ...authHeader(), 'Content-Type': 'application/json' },\n    body: JSON.stringify(usuario)\n  }\n  return fetch(`${config.apiUrl}/Usuario/Atualizar/${usuario.id}`, requestOptions).then(handleResponse)\n}\n\nfunction _delete (id) {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: authHeader()\n  }\n  return fetch(`${config.apiUrl}/Usuario/Excluir/${id}`, requestOptions).then(handleResponse)\n}\n\nfunction handleResponse (response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text)\n    if (!response.ok) {\n      if (response.status === 401) {\n        userService.logout()\n        location.reload(true)\n      }\n      const error = (data && data.message) || response.statusText\n      return Promise.reject(error)\n    }\n    return data\n  })\n}\n"]}]}